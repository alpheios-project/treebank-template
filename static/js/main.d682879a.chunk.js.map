{"version":3,"sources":["Hero.js","Collection.js","Home.js","lib/ArethusaWrapper.js","ControlPanel.js","Treebank.js","Publication.js","PublicationDirector.js","App.js","serviceWorker.js","index.js"],"names":["Hero","_ref","title","subtitle","react_default","a","createElement","className","renderSubtitle","Collection","section","window","boo","locus","path","start","chunks","Fragment","key","href","concat","publication","_this","this","author","work","editors","sections","scope","style","wordBreak","hyphens","map","s","renderSection","_this2","foo","props","_this$props","publications","p","renderRow","Component","Home","config","collections","build","src_Hero_0","c","collection","src_Collection","renderCollection","ArethusaWrapper","elementId","remoteUrl","appConf","$","remove","doc","chunk","widget","arethusaGoto","removeToastContainer","Arethusa","on","from","with","ControlPanel","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","isOpen","toggleOpen","bind","assertThisInitialized","setState","_this$props$chunks","end","lines","ii","push","b","match","params","index","Number","min","_this$getFbcnl","getFbcnl","_this$getFbcnl2","slicedToArray","first","back","current","next","last","getLines","id","aria-haspopup","aria-expanded","onClick","cursor","n","Treebank","base","xml","arethusa","render","src_ControlPanel_0","position","Publication","text","link","notes","renderLinkRow","minHeight","src_Treebank","target","PublicationDirector","argsLookup","forEach","args","src_Publication","assign","App","BrowserRouter","basename","process","Switch","Route","exact","component","src_Home","src_PublicationDirector","github","report","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","src_App","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d682879a.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Hero.css';\n\nconst renderSubtitle = (subtitle) => (\n  <p>\n    <span>\n      {subtitle}\n    </span>\n  </p>\n);\n\nconst Hero = ({ title, subtitle }) => (\n  <div className=\"jumbotron jumbotron-fluid jumbotron-small bg-dark\">\n    <div className=\"container text-light\">\n      <h1 className=\"display-4\">\n        {title}\n      </h1>\n      {subtitle && renderSubtitle(subtitle)}\n    </div>\n  </div>\n);\n\nexport default Hero;\n","import React, { Component } from 'react';\n\nclass Collection extends Component {\n  renderSection(section) {\n    window.boo = section;\n    const { locus, path, chunks } = section;\n    const { start } = chunks;\n\n    return (\n      <React.Fragment key={path}>\n        <a href={`${path}/${start}`}>\n          {locus}\n        </a>\n        <br />\n      </React.Fragment>\n    );\n  }\n\n  renderRow(publication) {\n    const { path, author, work, editors, sections } = publication;\n\n    return (\n      <tr key={path}>\n        <th scope=\"row\" style={{ wordBreak: \"break-word\", hyphens: \"auto\" }}>{author}</th>\n        <td>{work}</td>\n        <td>{editors}</td>\n        <td>\n          {sections.map((s) => this.renderSection(s))}\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    window.foo = this.props;\n    const { title, publications } = this.props;\n\n    return (\n      <div className=\"container\">\n        <div className=\"row col-12 pb-3\">\n          {title && <h2>{title}</h2>}\n          <table className=\"table\">\n            <thead className=\"thead-light\">\n              <tr>\n                <th scope=\"col\">Author</th>\n                <th scope=\"col\">Work</th>\n                <th scope=\"col\">Editors</th>\n                <th scope=\"col\">Locus</th>\n              </tr>\n            </thead>\n            <tbody>\n              {publications.map((p) => this.renderRow(p))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  };\n};\n\nexport default Collection;\n","import React from 'react';\nimport { PerseidsHeader } from 'perseids-react-components';\n\nimport Hero from './Hero';\nimport Collection from './Collection';\n\nconst renderCollection = (collection) => {\n  const { title, publications } = collection;\n\n  return (\n    <Collection\n      key={title}\n      title={title}\n      publications={publications}\n    />\n  );\n};\n\nconst Home = ({ config }) => {\n  const { title, subtitle, collections } = config;\n\n  return (\n    <React.Fragment>\n      <PerseidsHeader>\n        {title}\n      </PerseidsHeader>\n      <Hero title={title} subtitle={subtitle} />\n      {collections.map((c) => renderCollection(c))}\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n","import config from './arethusa.json';\n\nimport './custom.css';\n\nclass ArethusaWrapper {\n  elementId = \"treebank_container\";\n  remoteUrl = \"/treebank-template/arethusa/\";\n  appConf = config; \n\n  removeToastContainer() {\n    window.$(\"#toast-container\").remove();\n  }\n\n  render(doc, chunk) {\n    if (this.widget) {\n      if (this.doc === doc && this.chunk !== chunk) {\n        window.arethusaGoto(chunk);\n        this.removeToastContainer();\n      }\n    } else {\n      this.widget = new window.Arethusa();\n\n      this.widget\n        .on(this.elementId)\n        .from(this.remoteUrl)\n        .with(this.appConf)\n        .start({ doc, chunk });\n    }\n\n    this.doc = doc;\n    this.chunk = chunk;\n  }\n}\n\nexport default ArethusaWrapper;\n","import React, { Component } from 'react';\n\nimport './ControlPanel.css';\n\nconst min = (a, b) => (a < b ? a : b);\nconst max = (a, b) => (a > b ? a : b);\n\nclass ControlPanel extends Component {\n  state = {\n    isOpen: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.toggleOpen = this.toggleOpen.bind(this);\n  }\n\n  toggleOpen() {\n    this.setState({\n      isOpen: !this.state.isOpen,\n    });\n  }\n\n  getLines() {\n    const { start, end } = this.props.chunks;\n\n    const lines = [];\n    for (let ii = start; ii <= end; ii += 1) {\n      lines.push(ii);\n    }\n\n    return lines;\n  }\n\n  getFbcnl () {\n    const { chunks, match } = this.props;\n    const { chunk } = match.params;\n\n    const index = Number(chunk);\n    const start = chunks.start;\n    const end = chunks.end;\n\n    return [\n      start,\n      max(start, index - 1),\n      index,\n      min(end, index + 1),\n      end\n    ]\n  }\n\n  render () {\n    const [first, back, current, next, last] = this.getFbcnl();\n    const lines = this.getLines();\n\n    return (\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n        <div className=\"collapse navbar-collapse justify-content-center\" id=\"navbarsExample10\">\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link text-light\" href={`./${first}`}>\n                &laquo; First\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link text-light\" href={`./${back}`}>\n                &#8249; Back\n              </a>\n            </li>\n            <li className=\"nav-item dropdown\">\n              <button className=\"btn btn-link nav-link text-light dropdown-toggle\" aria-haspopup=\"true\" aria-expanded={this.state.isOpen} onClick={this.toggleOpen} style={{ cursor: \"pointer\" }}>\n                {current}\n              </button>\n              <div className={`dropdown-menu dropdown-scroll ${this.state.isOpen ? \"show\" : \"\"}`}>\n                {\n                  lines.map((n) => (\n                    <a className=\"dropdown-item\" key={n} href={n} onClick={this.toggleOpen}>\n                      {n}\n                    </a>\n                  ))\n                }\n              </div>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link text-light\" href={`./${next}`}>\n                Next &#8250;\n              </a>\n            </li>\n            <li>\n              <a className=\"nav-link text-light\" href={`./${last}`}>\n                Last &raquo;\n              </a>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default ControlPanel;\n","import React, { Component } from 'react';\n\nimport ControlPanel from './ControlPanel';\n\nclass Treebank extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      id: null,\n    };\n  }\n\n  componentDidMount() {\n    const { chunk } = this.props.match.params;\n    const base = this.props.xml;\n\n    this.props.arethusa.render(base, chunk)\n  }\n\n  componentDidUpdate() {\n    const { chunk } = this.props.match.params;\n    const base = this.props.xml;\n\n    this.props.arethusa.render(base, chunk)\n  }\n\n  render() {\n    const { chunks, match } = this.props;\n\n    return (\n      <React.Fragment>\n        <ControlPanel match={match} chunks={chunks} />\n        <div className=\"__artsa\">\n          <div id=\"treebank_container\" style={{ position: \"relative\" }}>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Treebank;\n","import React, { Component } from 'react';\nimport { PerseidsHeader } from 'perseids-react-components';\n\nimport ArethusaWrapper from './lib/ArethusaWrapper';\nimport Treebank from './Treebank';\n\nclass Publication extends Component {\n  constructor(props) {\n    super(props);\n\n    this.arethusa = new ArethusaWrapper();\n  }\n\n  renderRow(title, text) {\n    return (\n      <tr>\n        <th scope=\"col\">{title}</th>\n        <td>{text}</td>\n      </tr>\n    );\n  }\n\n  renderLinkRow(title, link) {\n    return (\n      <tr>\n        <th scope=\"col\">{title}</th>\n        <td>\n          <a href={link}>{link}</a>\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    const {\n      author,\n      work,\n      editors,\n      locus,\n      link,\n      notes,\n      xml,\n      chunks,\n      match,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <PerseidsHeader>\n          <span>\n            {author}\n            <i> {work} </i>\n            {locus}\n          </span>\n          <ul className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"/treebank-template\">\n                Home\n              </a>\n            </li>\n          </ul>\n        </PerseidsHeader>\n        <div className=\"container pt-3\">\n          <h2>\n            <span>\n              {author},\n              <i> {work} </i>\n              {locus}\n            </span>\n          </h2>\n          <table className=\"table\">\n            <tbody>\n              {author && this.renderRow(\"Author\", author)}\n              {work && this.renderRow(\"Work\", work)}\n              {editors && this.renderRow(\"Editors\", editors)}\n              {link && this.renderLinkRow(\"Link\", link)}\n              {notes && this.renderRow(\"Notes\", notes)}\n            </tbody>\n          </table>\n          <div style={{ \"minHeight\": \"350px\" }}>\n            <Treebank xml={xml} chunks={chunks} match={match} arethusa={this.arethusa} />\n          </div>\n          <div className=\"pt-1 pb-4 text-right\">\n            <a href={`/xml/${xml}`} target=\"_black\">\n              View XML\n            </a>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Publication;\n","import React, { Component } from 'react';\n\nimport Publication from './Publication';\n\nclass PublicationDirector extends Component {\n  constructor(props) {\n    super(props);\n\n    const { config } = props;\n    const argsLookup = {}\n\n    config.collections.forEach((collection) => {\n      collection.publications.forEach((publication) => {\n        const { author, work, editors } = publication;\n\n        publication.sections.forEach((section) => {\n          const { path, locus, link, notes, xml, chunks } = section;\n\n          argsLookup[path] = {\n            author,\n            work,\n            editors,\n            locus,\n            link,\n            notes,\n            xml,\n            chunks,\n          };\n        });\n      });\n    });\n\n    this.argsLookup = argsLookup;\n  }\n\n  render() {\n    const { match } = this.props;\n    const { publication } = match.params;\n    const args = this.argsLookup[publication];\n\n    return <Publication {...args} match={match} />;\n  }\n};\n\nexport default PublicationDirector;\n","import React from 'react';\nimport { PerseidsFooter } from 'perseids-react-components';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport config from './config.json';\n\nimport Home from './Home';\nimport PublicationDirector from './PublicationDirector';\n\nconst App = () => (\n  <Router basename={process.env.PUBLIC_URL}>\n    <React.Fragment>\n      <Switch>\n        <Route exact path=\"/\" component={() => <Home config={config} />} />\n        <Route path=\"/:publication/:chunk\" render={(props) => <PublicationDirector {...props} config={config} />} />\n      </Switch>\n      <PerseidsFooter\n        github=\"https://github.com/perseids-publications/treebank-template\"\n        report=\"https://github.com/perseids-publications/treebank-template/issues\"\n      />\n    </React.Fragment>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'perseids-react-components/build/css/index.css';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}